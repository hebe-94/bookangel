<!DOCTYPE html>
<!--
   Helios by Pixelarity
   pixelarity.com | hello@pixelarity.com
   License: pixelarity.com/license
-->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>기북천사 | 구독하기</title>
    <meta charset="utf-8"/>

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content=""/>
    <meta name="keywords" content=""/>
    <meta name="author" content="Codrops"/>
    <link rel="stylesheet" type="text/css" href="/css/default.css"/>
    <link rel="stylesheet" type="text/css" href="/css/component.css"/>

    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="/css/couponList.css"/>
    <link rel="stylesheet" href="/css/introduce.css"/>
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css"/>
    </noscript>

    <!-- logo 폰트 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=East+Sea+Dokdo&display=swap"
          rel="stylesheet">
    <!-- underLogo 폰트 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Yeon+Sung&display=swap"
          rel="stylesheet">
    <!-- 기본 폰트 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
</head>
<style>
    /* body 기본 폰트 전체 적용 */

    body {
        font-family: 'Gowun Dodum', sans-serif;
    }

    #logo {
        font-family: 'East Sea Dokdo', cursive;
        font-size: 100px;
    }

    #underLogo {
        font-family: 'Yeon Sung', cursive;
        font-size: 100px;
    }

    .subscribeBTN {
        width: 48%;
        border-radius: 10px;
        color: black;
        font-size: inherit;
        display: inline;
        font-family: 'Gowun Dodum';
    }
</style>
<body class="homepage is-preload" style="background-color:white;">
<div id="page-wrapper">

    <!--  Header -->
    <div id="header">
        <!-- Nav --> <!-- 상단탭(아마 모든 분들이 쓰셔야 할 코드..) -->
        <nav id="nav">

            <!-- 기북천사 로고 -->
            <div>
                <a href="/main/mainPage"> <!-- 로고 클릭시 메인페이지로 이동 -->
                    <img id="logoImg" src="/images/kibookLogo.png"></a>
            </div>
            <ul>
                <!-- 검색 -->
                <form id="searchForm" style="width: 261px;float:left; padding: 0px;" action="/book/list"
                      name="searchForm">
                    <div class="search" style="float: left; display:inline-block">
                        <input id="keyword" type="text" name="keyword" placeholder="검색어 입력"
                               style="display:inline-block; border:0; float:left; z-index:0;">
                        <!--                        <input type="text" name="search_text" id="search_text" value="" style="display:inline-block; border:0; float:left; z-index:0;" placeholder="검색어 입력" onkeydown="javascript: if(event.keyCode == 13) {document.searchForm.submit();}">-->
                    </div>
                    <button onclick="javascript:void(0);"
                            style="float: right; display:inline-block; margin-right: -51px; text-align:center; padding-top:10px;">
                        <img id="searchImg" style="margin-top: -8%; width: 26px;" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuMCwgU1ZHIEV
                             4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2l
                             vbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgd2lkdGg9IjMwLjIzOXB4IiBoZWlnaHQ9IjMwLjIzOXB4IiB2aWV3Qm9
                             4PSIwIDAgMzAuMjM5IDMwLjIzOSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzAuMjM5IDMwLjIzOTsiDQoJIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHBhdGggZD0iTTIwLjE5NCwzLjQ2Yy00LjYxMy00LjYxMy0xMi4xMjEtNC42MTMtMTYuNzM0LDB
                             jLTQuNjEyLDQuNjE0LTQuNjEyLDEyLjEyMSwwLDE2LjczNQ0KCQljNC4xMDgsNC4xMDcsMTAuNTA2LDQuNTQ3LDE1LjExNiwxLjM0YzAuMDk3LDAuNDU5LDAuMzE5LDAuODk3LDAuNjc2LDEuMjU0bDYuNzE4LDYuNzE4YzAuOTc5LDAuOTc3LDIuNTYxLDAuOTc3LDMuNTM1LDANCgk
                             JYzAuOTc4LTAuOTc4LDAuOTc4LTIuNTYsMC0zLjUzNWwtNi43MTgtNi43MmMtMC4zNTUtMC4zNTQtMC43OTQtMC41NzctMS4yNTMtMC42NzRDMjQuNzQzLDEzLjk2NywyNC4zMDMsNy41NywyMC4xOTQsMy40NnoNCgkJIE0xOC4wNzMsMTguMDc0Yy0zLjQ0NCwzLjQ0NC05LjA0OSw
                             zLjQ0NC0xMi40OTIsMGMtMy40NDItMy40NDQtMy40NDItOS4wNDgsMC0xMi40OTJjMy40NDMtMy40NDMsOS4wNDgtMy40NDMsMTIuNDkyLDANCgkJQzIxLjUxNyw5LjAyNiwyMS41MTcsMTQuNjMsMTguMDczLDE4LjA3NHoiLz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo
                             8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjwvc3ZnPg0K"/>
                    </button>
                </form>
                <!-- 회원정보 -->
                <li>
                    <a href="#">📖
                        <th:block th:if="${memberNum} == null" th:text="비회원"/>
                        <input type="hidden" name="sub" th:value="${sub}">

                        <th:block th:if="${memberNum} != null" th:text="${memberName}"/>
                        <input type="hidden" name="sessionType" value="${sessionType}">

                    </a>
                    <ul>
                        <th:block th:if="${memberNum} == null">
                            <li id="loginTab"><a href="/member/login">로그인</a></li>
                            <li><a href="/main/qna">Q&A</a></li>
                        </th:block>

                        <th:block th:if="${memberNum} != null">
                            <li id="myPageTab"><a>마이페이지&hellip;</a>
                                <ul>
                                    <li><a href="/member/mypage">내정보 보기</a></li>
                                    <li><a href="/member/memberModify">회원정보 수정</a></li>
                                    <li id="applyTab"><a href="/board/list">신청게시판</a></li><!-- 관리자 전용 -->
                                    <li><a href="/member/withdraw">회원탈퇴</a></li>
                                </ul>
                            </li>
                            <li><a href="/main/qna">Q&A</a></li>
                            <li id="logoutTab"><a href="/member/logout">로그아웃</a></li>
                        </th:block>

                    </ul>
                </li>
            </ul>
        </nav>

    </div>
    <!--  Header  끝-->
</div>


<!-- Banner -->
<section id="banner">
    <header style="margin-top: 2em;">
        <h2>언제든 해지 가능! <br>첫 달 무료로 가볍게</h2>
        <p>
            상황에 맞게 원하는 요금제를<br>자유롭게 선택하세요
        </p>
    </header>
</section>


<!-- Main -->
<div class="wrapper style2">

    <article style="width: 50em; margin: auto;">
        <div>
            <fieldset style="border-radius: 10px;background-color: antiquewhite; padding:27px; margin-bottom: 10%;">
                <legend style="font-size:30px; color:black;">전자책 정기구독 (첫 구독시 한달 100원)</legend>
                <br>
                <div style="background-image: url('/images/gudok.gif'); padding-top:inherit; background-position: left; background-size: inherit; border-radius:15px; margin-bottom:10px; color:white; height: 25em">
                    <div style="margin-left: 15px;">&nbsp;월 <span style="font-weight:bold; font-size:40px; "><i><span
                            style="color:#999900;">9,900&nbsp;</span></i><span
                            style="font-size:20px;">원</span></span><br><br></div>
                    <div style="margin: 0 0 5px 20px;"><span
                            style="font-size:15px;"><i>118,800</i></span>&nbsp;&nbsp;<span
                            style="font-size:15px; background-color:salmon; font-weight:bold; border-radius:5px"><i>16.6%↓</i></span><br>
                    </div>
                    <div style="margin-left: 15px;">&nbsp;연 <span style="font-weight:bold; font-size:40px;"><i><span
                            style="color:#999900;">99,900&nbsp;</span></i><span
                            style="font-size:20px;">원</span></span><br><br></div>
                </div>
                <div style="margin-left: 15px;"><span style="font-size:15px;">&nbsp;기북천사에 제공하는 콘텐츠를 <span
                        style="-webkit-text-emphasis-style: dot;"><b>무제한</b></span>으로</span></div>
                <form id="subscribeForm">
                    <input type="button" class="subscribeBTN" value="1개월 구독"
                           style="float: left" onclick="subscribe(1)">
                    <input type="button" class="subscribeBTN" value="1년 구독"
                           style="float: right" onclick="subscribe(12)">
                    <input type="hidden" name="monthType" value="" id="monthType">
                </form>
            </fieldset>

        </div>
    </article>

</div>

<hr>
<!--  Copyright -->
<div class="copyright" style="height: 10em">
    <p style="margin-bottom: 0.5em; font-weight: 600; font-size: 20px; margin-left: 0.5em;">기북천사</p>
    <p style="margin-bottom: 0.2em;margin-left: 0.5em;">대표자 : 한동석, 일사천리 &nbsp;&nbsp; 주소: 서울특별시 강남구 역삼동 736-7 3~4층</p>
    <label for="intro" style="margin-bottom: 0.2em;margin-left: 0.5em;"><a style="text-decoration: none" id="intro" href="/main/introduce">기북천사 소개</a></label>
    <p style="margin-bottom: 0.2em;margin-left: 0.5em;">&copy; Kibook Angel. All rights reserved.</p>
</div>

<!-- Scripts -->

<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.dropotron.min.js"></script>
<script src="/js/jquery.scrolly.min.js"></script>
<script src="/js/jquery.scrollex.min.js"></script>
<script src="/js/browser.min.js"></script>
<script src="/js/breakpoints.min.js"></script>
<script src="/js/util.js"></script>
<script src="/js/main.js"></script>
<script th:inline="javascript">
    alert("1년구독은 쿠폰으로 결제가 불가능합니다.");

    // 로그인 중인지
    let memberNum = [[${memberNum}]];
    // 구독중인지
    let sub = [[${sub}]];
    // 기업 회원인지
    let memberType = [[${sessionType}]];

    function subscribe(monthType) {
        if (memberNum == '' || memberNum == null) {
            alert("로그인 후 사용이 가능합니다.");
            location.href = "/member/login";

            return;
        }

        if (sub == 'true') {
            alert("이미 구독 신청되어있습니다.");
            location.href = "/main/mainPage";
            return;
        }

        if (memberType == 1) {
            alert("기업 회원은 구독 신청이 불가능 합니다.");
            location.href = "/main/mainPage";
            return;
        }


        if (monthType == 1) {//1개월
            $("#monthType").val(1);
        } else if (monthType == 12) {//1년
            $("#monthType").val(12);
        } else {
            console.log("입력값 잘못됨");
            return;
        }
        console.log("들어간 값 : " + $("#monthType").val());
        $("#subscribeForm").attr('method', 'post');
        $("#subscribeForm").attr('action', '/payment/subscribeDetail').submit();
    }


    $(document).ready(function () {


    });

</script>


<!--kkh 2021.11.03 새로 작성한 코드-->
<script th:inline="javascript">
    // 글 등록 시 전달받는 게시글 번호를 alert으로 출력
    let searchForm = $(document.searchForm);


    $("button.search").on("click", function (e) {  /*$("a.search").on("click", function(e){*/
        e.preventDefault();


        if (!searchForm.find("input#keyword").val()) {
            alert("키워드를 입력하세요");
            return;
        }
        searchForm.submit();
    });

    $("input#keyword").on("keydown", function (e) {
        if (e.keyCode == 13) {
            e.preventDefault();
            if (!searchForm.find("input#keyword").val()) {
                alert("키워드를 입력하세요");
                return;
            }
            searchForm.submit();
        }
    })
</script>
<!--위 kkh 2021.11.03 새로 작성한 코드-->

</body>
</html>