<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Í∏∞Î∂ÅÏ≤úÏÇ¨ | ÏπúÍµ¨ÎêòÍ∏∞</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="/css/main.css" type="text/css"/>
    <link rel="stylesheet" href="/css/adminboard.css" type="text/css"/>
    <link rel="stylesheet" href="/css/bootstrap.css" type="text/css"/>
    <link rel="stylesheet" href="/css/component.css" type="text/css"/>
    <link rel="stylesheet" href="/css/default.css" type="text/css"/>
    <link rel="stylesheet" href="/css/adminBoardApply.css" type="text/css"/>
    <noscript><link rel="stylesheet" href="/css/noscript.css" type="text/css"/></noscript>
    <!-- logo Ìè∞Ìä∏ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=East+Sea+Dokdo&display=swap" rel="stylesheet">
    <!-- underLogo Ìè∞Ìä∏ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Yeon+Sung&display=swap" rel="stylesheet">
    <!-- Í∏∞Î≥∏ Ìè∞Ìä∏ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
    <style>
        .big-width {display: block;}
        .small-width {display: none;}

        @media (max-width: 918px) {
            .writer {display: none;}
            .regDate {display: none;}
            .updateDate {display: none;}
        }

        /* body Í∏∞Î≥∏ Ìè∞Ìä∏ Ï†ÑÏ≤¥ Ï†ÅÏö© */
        body{
            font-family: 'Gowun Dodum', sans-serif;
        }
        #logo{
            font-family: 'East Sea Dokdo', cursive;
            font-size:100px;
        }
        #underLogo{
            font-family: 'Yeon Sung', cursive;
            font-size:100px;
        }
        #category{
            font-family:'Gowun Dodum', sans-serif;
            font-size:30px;
            text-align: center;
        }
        ul{
            list-style:none;
            padding-left: 0px
        }
    </style>
<body class="no-sidebar is-preload">
<div id="page-wrapper">
    <div id="header">
        <!-- Nav --> <!-- ÏÉÅÎã®ÌÉ≠(ÏïÑÎßà Î™®Îì† Î∂ÑÎì§Ïù¥ Ïì∞ÏÖîÏïº Ìï† ÏΩîÎìú..) -->
        <nav id="nav">

            <!-- Í∏∞Î∂ÅÏ≤úÏÇ¨ Î°úÍ≥† -->
            <div>
                <a href="/main/mainPage"> <!-- Î°úÍ≥† ÌÅ¥Î¶≠Ïãú Î©îÏù∏ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô -->
                    <img id="logoImg" src="/images/kibookLogoBlack.png"></a>
            </div>
            m);
            $.getJSON("/board/getAttachList", {boardNum: boardNum},
                function(arr){
                    console.log(arr);
                    let str =<ul>
            <!-- Í≤ÄÏÉâ -->
            <form id="searchForm" style="width: 261px;float:left; padding: 0px;" method="post" action="/book/BookSearchOk" name="searchForm">
                <div class="search" style="float: left; display:inline-block">
                    <input type="text" name="search_text" id="search_text" value="" style="display:inline-block; border:0; float:left; z-index:0;" placeholder="Í≤ÄÏÉâÏñ¥ ÏûÖÎ†•" onkeydown="javascript: if(event.keyCode == 13) {document.searchForm.submit();}">
                </div>
                <button onclick="document.searchForm.submit();" style="float: right; display:inline-block; margin-right: -51px; text-align:center; padding-top:10px;">
                    <img id="searchImg" style="margin-top: -8%; width: 26px;" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuMCwgU1ZHIEV
                             4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2l
                             vbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgd2lkdGg9IjMwLjIzOXB4IiBoZWlnaHQ9IjMwLjIzOXB4IiB2aWV3Qm9
                             4PSIwIDAgMzAuMjM5IDMwLjIzOSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzAuMjM5IDMwLjIzOTsiDQoJIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHBhdGggZD0iTTIwLjE5NCwzLjQ2Yy00LjYxMy00LjYxMy0xMi4xMjEtNC42MTMtMTYuNzM0LDB
                             jLTQuNjEyLDQuNjE0LTQuNjEyLDEyLjEyMSwwLDE2LjczNQ0KCQljNC4xMDgsNC4xMDcsMTAuNTA2LDQuNTQ3LDE1LjExNiwxLjM0YzAuMDk3LDAuNDU5LDAuMzE5LDAuODk3LDAuNjc2LDEuMjU0bDYuNzE4LDYuNzE4YzAuOTc5LDAuOTc3LDIuNTYxLDAuOTc3LDMuNTM1LDANCgk
                             JYzAuOTc4LTAuOTc4LDAuOTc4LTIuNTYsMC0zLjUzNWwtNi43MTgtNi43MmMtMC4zNTUtMC4zNTQtMC43OTQtMC41NzctMS4yNTMtMC42NzRDMjQuNzQzLDEzLjk2NywyNC4zMDMsNy41NywyMC4xOTQsMy40NnoNCgkJIE0xOC4wNzMsMTguMDc0Yy0zLjQ0NCwzLjQ0NC05LjA0OSw
                             zLjQ0NC0xMi40OTIsMGMtMy40NDItMy40NDQtMy40NDItOS4wNDgsMC0xMi40OTJjMy40NDMtMy40NDMsOS4wNDgtMy40NDMsMTIuNDkyLDANCgkJQzIxLjUxNyw5LjAyNiwyMS41MTcsMTQuNjMsMTguMDczLDE4LjA3NHoiLz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo
                             8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjwvc3ZnPg0K">
                </button>
            </form>
            <li>
                <a href="#">üìñ
                    <th:block th:text="${memberName}" />
                    <input type="hidden" name="sessionType" value="${sessionType}">
                </a>
                <ul>
                    <th:block th:if="${memberNum} == null">
                        <li id="loginTab"><a href="/member/login">Î°úÍ∑∏Ïù∏</a></li>
                        <li><a  href="/member/QnA">Q&A</a></li>
                    </th:block>

                    <th:block th:if="${memberNum} != null">
                        <li id="myPageTab"><a>ÎßàÏù¥ÌéòÏù¥ÏßÄ&hellip;</a>
                            <ul>
                                <li><a href="/member/mypage">ÎÇ¥Ï†ïÎ≥¥ Î≥¥Í∏∞</a></li>
                                <li><a href="/member/AllModify">ÌöåÏõêÏ†ïÎ≥¥ ÏàòÏ†ï</a></li>
                                <li id="applyTab"><a href="/board/list">Ïã†Ï≤≠Í≤åÏãúÌåê</a></li><!-- Í¥ÄÎ¶¨Ïûê Ï†ÑÏö© -->
                                <li><a  href="/member/withdraw">ÌöåÏõêÌÉàÌá¥</a></li>
                            </ul>
                        </li>
                        <li><a  href="/member/QnA">Q&A</a></li>
                        <li id="logoutTab"><a  href="/member/MemberLogout">Î°úÍ∑∏ÏïÑÏõÉ</a></li>
                    </th:block>

                </ul>
            </li>
        </ul>
        </nav> "";

                    $(arr).each(function(i, attach){
                        if(!attach.image){
                            let fileCallPath = encodeURIComponent(attach.uploadPath + "/" + attach.uuid + "_" + attach.fileName);
                            str += "<li data-path='" + attach.uploadPath + "' data-uuid='" + attach.uuid + "' data-name='" + attach.fileName.substring(attach.fileName.indexOf("_") + 1) + "' data-type='" + attach.image +"'>";
                            str += "<div>";
                            str += "<a href='/upload/download?fileName=" + fileCallPath + "'>";
                            str += "<img src='/images/attach.png' width='30px'>" + attach.fileName.substring(attach.fileName.indexOf("_") + 1);
                            str += "</a>"
                            str += "<span data-file='" + fileCallPath + "' data-type='image'>x</span>";
                            str += "</div>";
                            str += "</li>";
                        }else{
                            let fileCallPath = encodeURIComponent(attach.uploadPath + "/s_" + attach.uuid + "_" + attach.fileName);
                            let originPath = encodeURIComponent(attach.uploadPath + "/" + attach.uuid + "_" + attach.fileName);

                            str += "<li data-path='" + attach.uploadPath + "' data-uuid='" + attach.uuid + "' data-name='" + attach.fileName.substring(attach.fileName.indexOf("_") + 1) + "' data-type='" + attach.image +"'>";
                            str += "<div>";
                            str += "<a href=\"javascript:showImage(\'" + originPath + "\')\">";
                            str += "<img src='/upload/display?fileName=" + fileCallPath + "'>" + attach.fileName.substring(attach.fileName.indexOf("_") + 1);
                            str += "</a>";
                            str += "<span data-file='" + fileCallPath + "' data-type='image'>x</span>";
                            str += "</div>";
                            str += "</li>";
                        }
                    });
                    uploadResult.html(str);
                });//getJSON
        })();
    });

    $(".uploadResult").on("click", "span", function(){
        let targetFile = $(this).data("file");
        let type = $(this).data("type");
        let li = $(this).parents("li");
        li.remove();
    });
</script>
</html>